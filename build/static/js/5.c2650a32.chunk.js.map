{"version":3,"sources":["utilities/stringToArrayBuffer.js","utilities/encrypt.js","utilities/decryptFile.js","utilities/decrypt.js","components/ImageCarousel/ImageCarousel.js","containers/CustomerDashboard/CustomerDashboard.module.css","components/UploadChequeModal/UploadChequeModal.module.css","components/ChequeListItem/ChequeListItem.module.css","components/ImageModal/ImageModal.module.css","components/ChequeList/ChequeList.module.css","../node_modules/react-bootstrap/esm/Button.js","utilities/encryptFile.js","components/UploadChequeModal/UploadChequeModal.js","components/ImageModal/ImageModal.js","components/ChequeListItem/ChequeListItem.js","components/ChequeList/ChequeList.js","containers/CustomerDashboard/CustomerDashboard.js"],"names":["str2ab","str","Uint8Array","from","atob","c","charCodeAt","encryptWithServerPublicKey","data","key","a","window","crypto","subtle","importKey","strtoab","name","modulusLength","publicExponent","hash","cryptoKey","enc","TextEncoder","encrypt","encode","JSON","stringify","encrypted","ab2str","decryptImageWithAesKey","encryptedBufferImg","iv","decrypt","aesDecryptedKey","parse","console","log","result","encryptedData","func","Promise","resolve","reject","openRequest","indexedDB","open","onerror","error","onsuccess","request","transaction","objectStore","get","plainAB","dec","TextDecoder","decode","ImageCarousel","props","interval","variant","Item","className","src","frontImage","alt","backImage","module","exports","Button","React","ref","as","bsPrefix","size","active","prefix","useBootstrapPrefix","useButtonProps","tagName","buttonProps","Component","_jsx","classNames","href","disabled","displayName","defaultProps","encryptImageWithAesKey","image","UploadChequeModal","useState","validated","setValidated","setFrontImage","setBackImage","aesKey","useSelector","state","encryptedAesKey","user","loading","setLoading","serverPublicKey","formRef","useRef","depositError","setDepositError","handleSubmit","event","preventDefault","form","currentTarget","checkValidity","stopPropagation","readFileDataAsArrayBuffer","file","reader","FileReader","onload","target","err","readAsArrayBuffer","frontImageBuffer","backImageBuffer","encryptedBufferImg1","encryptedBufferImg2","username","cheque_code","userData","images","obj","axios","post","handleClose","setReload","reload","Modal","show","showDepositModal","onHide","backdrop","keyboard","style","border","Header","classes","ModalHeader","borderColor","Title","onClick","Body","loader","display","margin","Form","noValidate","onSubmit","Group","controlId","Label","Control","required","type","onChange","files","Error","BootstrapButton","ImageModal","useEffect","req","params","_id","res","chequePhotographs","buffer","res1","res2","showImageModal","dialogClassName","ChequeListItem","setShowImageModal","id","Parent","Id","Status","status","color","fontWeight","ChequeList","filter","setFilter","transactions","setTransactions","List","Filters","ButtonInactive","map","chequeStatus","CustomerDashboard","setShowDepositModal","history","useHistory","auth","push","Options","ButtonDeposit"],"mappings":"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","file":"static/js/5.c2650a32.chunk.js","sourcesContent":["const str2ab = (str) => {\n  return Uint8Array.from(atob(str), c => c.charCodeAt(0))\n};\n\nexport default str2ab;\n","import strtoab from \"./stringToArrayBuffer\";\nimport ab2str from \"./arrayBufferToString\";\nconst encryptWithServerPublicKey = async (data, key) => {\n  const cryptoKey = await window.crypto.subtle.importKey(\n    \"spki\",\n    strtoab(key),\n    {\n      name: \"RSA-OAEP\",\n      modulusLength: 4096,\n      publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n      hash: \"SHA-256\",\n    },\n    true,\n    [\"encrypt\"]\n  );\n  const enc = new TextEncoder();\n  const encrypted = await window.crypto.subtle.encrypt(\n    { name: \"RSA-OAEP\" },\n    cryptoKey,\n    enc.encode(JSON.stringify(data))\n  );\n  return ab2str(encrypted);\n};\n\nexport default encryptWithServerPublicKey;\n","import decrypt from \"./decrypt\";\nimport ab2str from \"./arrayBufferToString\";\n\nconst decryptImageWithAesKey = async (encryptedBufferImg, key) => {\n  const iv = Uint8Array.from([\n    146, 184, 121, 127, 136, 74, 198, 227, 43, 182, 160, 127, 33, 155, 147, 31,\n  ]);\n  const aesDecryptedKey = JSON.parse(await decrypt(key));\n  const cryptoKey = await window.crypto.subtle.importKey(\n    \"jwk\",\n    JSON.parse(aesDecryptedKey),\n    { name: \"AES-GCM\" },\n    true,\n    [\"encrypt\", \"decrypt\"]\n  );\n  console.log(cryptoKey)\n  const result = await window.crypto.subtle.decrypt(\n    {\n      name: \"AES-GCM\",\n      iv: iv,\n    },\n    cryptoKey,\n    encryptedBufferImg\n  );\n  return ab2str(result);\n};\n\nexport default decryptImageWithAesKey;\n","const decrypt = async (encryptedData) => {\n  let cryptoKey, plainAB;\n  const func = () => {\n    return new Promise((resolve, reject) => {\n      let openRequest = indexedDB.open(\"db\", 1);\n      openRequest.onerror = function () {\n        console.error(\"Error\", openRequest.error);\n      };\n      openRequest.onsuccess = function () {\n        let db = openRequest.result;\n        let transaction = db.transaction(\"keyStore\", \"readwrite\");\n        let keyStore = transaction.objectStore(\"keyStore\");\n        let request = keyStore.get(\"key\");\n        request.onsuccess = async function () {\n          console.log(\"key added to the store\", request.result);\n          cryptoKey = request.result;\n          console.log(cryptoKey);\n          plainAB = await window.crypto.subtle.decrypt(\n            { name: \"RSA-OAEP\" },\n            cryptoKey,\n            Uint8Array.from(atob(encryptedData), (c) => c.charCodeAt(0))\n          );\n          const dec = new TextDecoder();\n          plainAB = dec.decode(plainAB);\n          resolve(plainAB);\n        };\n        request.onerror = function () {\n          console.log(\"Error\", request.error);\n        };\n      };\n    });\n  };\n  return await func();\n};\n\nexport default decrypt;\n","import { Carousel } from \"react-bootstrap\";\n\nconst ImageCarousel = (props) => {\n  return (\n    <>\n      <Carousel interval={null} variant=\"dark\">\n        <Carousel.Item>\n          <img\n            className=\"d-block w-100\"\n            src={`data:image/png;base64,${props.frontImage}`}\n            alt=\"First slide\"\n          />\n        </Carousel.Item>\n        <Carousel.Item>\n          <img\n            className=\"d-block w-100\"\n            src={`data:image/png;base64,${props.backImage}`}\n            alt=\"Second slide\"\n          />\n        </Carousel.Item>\n      </Carousel>\n    </>\n  );\n};\n\nexport default ImageCarousel;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Parent\":\"CustomerDashboard_Parent__2EWcJ\",\"Options\":\"CustomerDashboard_Options__SzCs6\",\"ButtonDeposit\":\"CustomerDashboard_ButtonDeposit__2RHSP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ModalHeader\":\"UploadChequeModal_ModalHeader__1lbI1\",\"BootstrapButton\":\"UploadChequeModal_BootstrapButton__231oN\",\"Error\":\"UploadChequeModal_Error__3kgmL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Parent\":\"ChequeListItem_Parent__1_Qww\",\"Id\":\"ChequeListItem_Id__3EdQF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ModalHeader\":\"ImageModal_ModalHeader__2dahU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"ChequeList_Button__1DZ33\",\"ButtonInactive\":\"ChequeList_ButtonInactive__TM10K\",\"List\":\"ChequeList_List__3Ajzs\",\"Filters\":\"ChequeList_Filters__2Hq3U\"};","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useButtonProps } from '@restart/ui/Button';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst defaultProps = {\n  variant: 'primary',\n  active: false,\n  disabled: false\n};\nconst Button = /*#__PURE__*/React.forwardRef(({\n  as,\n  bsPrefix,\n  variant,\n  size,\n  active,\n  className,\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'btn');\n  const [buttonProps, {\n    tagName\n  }] = useButtonProps({\n    tagName: as,\n    ...props\n  });\n  const Component = tagName;\n  return /*#__PURE__*/_jsx(Component, { ...props,\n    ...buttonProps,\n    ref: ref,\n    className: classNames(className, prefix, active && 'active', variant && `${prefix}-${variant}`, size && `${prefix}-${size}`, props.href && props.disabled && 'disabled')\n  });\n});\nButton.displayName = 'Button';\nButton.defaultProps = defaultProps;\nexport default Button;","import decrypt from \"./decrypt\";\n\nconst encryptImageWithAesKey = async (image, key) => {\n  const iv = Uint8Array.from([\n    146, 184, 121, 127, 136, 74, 198, 227, 43, 182, 160, 127, 33, 155, 147, 31,\n  ]);\n  const aesDecryptedKey = JSON.parse(await decrypt(key));\n  const cryptoKey = await window.crypto.subtle.importKey(\n    \"jwk\",\n    JSON.parse(aesDecryptedKey),\n    { name: \"AES-GCM\" },\n    true,\n    [\"encrypt\", \"decrypt\"]\n  );\n  let enc = new TextEncoder();\n  const encodedImg = enc.encode(JSON.stringify(image));\n  const result = await window.crypto.subtle.encrypt(\n    {\n      name: \"AES-GCM\",\n      iv: iv,\n    },\n    cryptoKey,\n    image\n  );\n  return result;\n};\n\nexport default encryptImageWithAesKey;\n","import { useState, useRef } from \"react\";\nimport classes from \"./UploadChequeModal.module.css\";\nimport { Modal, Form, Button } from \"react-bootstrap\";\nimport encryptImageWithAesKey from \"../../utilities/encryptFile\";\nimport { useSelector } from \"react-redux\";\nimport decryptImageWithAesKey from \"../../utilities/decryptFile\";\nimport axios from \"../../chequeAxios\";\nimport encrypt from \"../../utilities/encrypt\";\nimport ab2str from \"../../utilities/arrayBufferToString\";\nimport loader from \"../../assets/loader.svg\";\n\nconst UploadChequeModal = (props) => {\n  const [validated, setValidated] = useState(false);\n  const [frontImage, setFrontImage] = useState();\n  const [backImage, setBackImage] = useState();\n  const aesKey = useSelector((state) => state.encryptedAesKey);\n  const user = useSelector((state) => state.user);\n  const [loading, setLoading] = useState(false);\n  const serverPublicKey = useSelector((state) => state.key);\n  const formRef = useRef(null);\n  const [depositError, setDepositError] = useState(\"\");\n  const onFrontImageChange = (event) => {\n    setFrontImage(event.target.files[0]);\n  };\n  const onBackImageChange = (event) => {\n    setBackImage(event.target.files[0]);\n  };\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setLoading(true);\n    const form = event.currentTarget;\n    setValidated(true);\n    if (form.checkValidity() === false) {\n      event.stopPropagation();\n    } else {\n      function readFileDataAsArrayBuffer(file) {\n        return new Promise((resolve, reject) => {\n          const reader = new FileReader();\n          reader.onload = (event) => {\n            resolve(event.target.result);\n          };\n          reader.onerror = (err) => {\n            reject(err);\n          };\n          reader.readAsArrayBuffer(file);\n        });\n      }\n      const frontImageBuffer = await readFileDataAsArrayBuffer(frontImage);\n      const backImageBuffer = await readFileDataAsArrayBuffer(backImage);\n      const encryptedBufferImg1 = await encryptImageWithAesKey(\n        frontImageBuffer,\n        aesKey\n      );\n      const encryptedBufferImg2 = await encryptImageWithAesKey(\n        backImageBuffer,\n        aesKey\n      );\n      // const decryptedImg1 = await decryptImageWithAesKey(\n      //   encryptedBufferImg1,\n      //   aesKey\n      // );\n      // const decryptedImg2 = await decryptImageWithAesKey(\n      //   encryptedBufferImg2,\n      //   aesKey\n      // );\n      // document.querySelector(\n      //   \"body\"\n      // ).innerHTML = `<img src=\"data:image/png;base64,${decryptedImg2}\"/>`;\n      const userData = await encrypt(\n        { username: user.username, cheque_code: \"-1\" },\n        serverPublicKey\n      );\n      const data = {\n        images: [ab2str(encryptedBufferImg1), ab2str(encryptedBufferImg2)],\n        obj: userData,\n      };\n      const result = await axios.post(\"/api/depositCheque\", data);\n      if (result.data == \"Cheque deposited successfully\") {\n        setValidated(false);\n        props.handleClose();\n        props.setReload(!props.reload);\n      } else {\n        setValidated(false);\n        setDepositError(result.data);\n      }\n    }\n    setLoading(false);\n  };\n  return (\n    <Modal\n      show={props.showDepositModal}\n      onHide={props.handleClose}\n      backdrop=\"static\"\n      keyboard={false}\n      style={{ border: \"none\" }}\n    >\n      <Modal.Header\n        className={classes.ModalHeader}\n        style={{ borderColor: \"#871f42\" }}\n      >\n        <Modal.Title>Deposit Cheque</Modal.Title>\n        <i\n          className=\"fa fa-times\"\n          aria-hidden=\"true\"\n          onClick={props.handleClose}\n        ></i>\n      </Modal.Header>\n      <Modal.Body>\n        {loading ? (\n          <img\n            src={loader}\n            alt=\"loader\"\n            style={{ display: \"block\", margin: \"10vh auto\" }}\n          />\n        ) : (\n          <Form\n            ref={formRef}\n            noValidate\n            validated={validated}\n            onSubmit={handleSubmit}\n          >\n            {/* <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\n            <Form.Label>Cheque Number</Form.Label>\n            <Form.Control\n              required\n              type=\"text\"\n              placeholder=\"Enter Cheque Number\"\n              value={chequeNumber}\n              onChange={onChangeChequeNumber}\n            />\n          </Form.Group> */}\n            <Form.Group controlId=\"formFile\" className=\"mb-3\">\n              <Form.Label>Front Image</Form.Label>\n              <Form.Control\n                required\n                type=\"file\"\n                onChange={onFrontImageChange}\n              />\n            </Form.Group>\n            <Form.Group controlId=\"formFile\" className=\"mb-3\">\n              <Form.Label>Back Image</Form.Label>\n              <Form.Control required type=\"file\" onChange={onBackImageChange} />\n            </Form.Group>\n            {depositError ? (\n              <p className={classes.Error}>{depositError}</p>\n            ) : null}\n            <Button type=\"submit\" className={classes.BootstrapButton}>\n              Deposit\n            </Button>\n            {/* <input type=\"submit\" className={classes.Button}>Deposit</input> */}\n          </Form>\n        )}\n      </Modal.Body>\n    </Modal>\n  );\n};\n\nexport default UploadChequeModal;\n","import { Modal } from \"react-bootstrap\";\nimport classes from \"./ImageModal.module.css\";\nimport ImageCarousel from \"../ImageCarousel/ImageCarousel\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"../../chequeAxios\";\nimport decryptImageWithAesKey from \"../../utilities/decryptFile\";\nimport { useSelector } from \"react-redux\";\nimport str2ab from \"../../utilities/stringToArrayBuffer\";\nimport loader from \"../../assets/loader.svg\";\n\nconst ImageModal = (props) => {\n  const encryptedAesKey = useSelector((state) => state.encryptedAesKey);\n  const [frontImage, setFrontImage] = useState(\"\");\n  const [backImage, setBackImage] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const req = async () => {\n      setLoading(true);\n      const res = await axios.get(\"/api/transactionDetail\", {\n        params: {\n          _id: props._id,\n        },\n      });\n      console.log(str2ab(res.data.chequePhotographs[0]).buffer);\n      const res1 = await decryptImageWithAesKey(\n        str2ab(res.data.chequePhotographs[0]).buffer,\n        encryptedAesKey\n      );\n      // console.log(res1)\n      setFrontImage(res1);\n      const res2 = await decryptImageWithAesKey(\n        str2ab(res.data.chequePhotographs[1]).buffer,\n        encryptedAesKey\n      );\n      // console.log(res2)\n      setBackImage(res2);\n      setLoading(false);\n    };\n    if (props.showImageModal) req();\n  }, [props.showImageModal]);\n  return (\n    <>\n      <Modal\n        show={props.showImageModal}\n        onHide={props.handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n        dialogClassName=\"cheque-image\"\n      >\n        <Modal.Header className={classes.ModalHeader}>\n          <Modal.Title>Cheque Images</Modal.Title>\n          <i\n            className=\"fa fa-times\"\n            aria-hidden=\"true\"\n            onClick={props.handleClose}\n          ></i>\n        </Modal.Header>\n        <Modal.Body>\n          {loading ? (\n            <img\n              src={loader}\n              alt=\"loader\"\n              style={{ display: \"block\", margin: \"10vh auto\" }}\n            />\n          ) : (\n            <ImageCarousel frontImage={frontImage} backImage={backImage} />\n          )}\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n};\n\nexport default ImageModal;\n","import classes from \"./ChequeListItem.module.css\";\nimport ImageModal from \"../ImageModal/ImageModal\";\nimport { useState } from \"react\";\nconst ChequeListItem = (props) => {\n  const [showImageModal, setShowImageModal] = useState(false);\n  const handleClose = () => setShowImageModal(false);\n  const handleShow = () => setShowImageModal(true);\n\n  return (\n    <>\n      <ImageModal showImageModal={showImageModal} handleClose={handleClose} _id={props.id} />\n\n      <div className={classes.Parent} onClick={handleShow}>\n        <div className={classes.Id}>{props.id}</div>\n        <div className={classes.Status}>\n          {props.status === 2 ? (\n            <span style={{ color: \"#a6a6a6\", fontWeight: \"bold\" }}>\n              <i\n                className=\"fas fa-clock\"\n                aria-hidden=\"true\"\n                style={{ color: \"#a6a6a6\" }}\n              ></i>\n              &nbsp;Pending\n            </span>\n          ) : null}\n          {props.status === 1 ? (\n            <span style={{ color: \"#27a844\", fontWeight: \"bold\" }}>\n              <i\n                className=\"fa fa-check\"\n                aria-hidden=\"true\"\n                style={{ color: \"#27a844\" }}\n              ></i>\n              &nbsp;Verified\n            </span>\n          ) : null}\n          {props.status === 0 ? (\n            <span style={{ color: \"#dc3546\", fontWeight: \"bold\" }}>\n              <i\n                className=\"fa fa-times\"\n                aria-hidden=\"true\"\n                style={{ color: \"#dc3546\" }}\n              ></i>\n              &nbsp;Declined\n            </span>\n          ) : null}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ChequeListItem;\n","import ChequeListItem from \"../ChequeListItem/ChequeListItem\";\nimport { useState, useEffect } from \"react\";\nimport classes from \"./ChequeList.module.css\";\nimport axios from \"../../chequeAxios\";\nimport { useSelector } from \"react-redux\";\nimport loader from \"../../assets/loader.svg\";\n\nconst ChequeList = (props) => {\n  const [filter, setFilter] = useState(2);\n  const [transactions, setTransactions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const username = useSelector((state) => state.user.username);\n  useEffect(() => {\n    const func = async () => {\n      setLoading(true);\n      const res = await axios.get(\"/api/transactions\", {\n        params: { username: username },\n      });\n  \n      setTransactions(res.data);\n      setLoading(false);\n    };\n    func();\n  }, [props.reload]);\n  return (\n    <>\n      <div className={classes.List}>\n        <div className={classes.Filters}>\n          <div\n            className={filter === 2 ? classes.Button : classes.ButtonInactive}\n            onClick={() => setFilter(2)}\n          >\n            Pending\n          </div>\n          <div\n            className={filter === 1 ? classes.Button : classes.ButtonInactive}\n            onClick={() => setFilter(1)}\n          >\n            Approved\n          </div>\n          <div\n            className={filter === 0 ? classes.Button : classes.ButtonInactive}\n            onClick={() => setFilter(0)}\n          >\n            Declined\n          </div>\n        </div>\n        {loading ? (\n          <img\n            src={loader}\n            alt=\"loader\"\n            style={{ display: \"block\", margin: \"10vh auto\" }}\n          />\n        ) : (\n          transactions.map(\n            (transaction) =>\n              transaction.chequeStatus === filter && (\n                <ChequeListItem\n                  status={transaction.chequeStatus}\n                  id={transaction._id}\n                  key={transaction._id}\n                />\n              )\n          )\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default ChequeList;\n","import classes from \"./CustomerDashboard.module.css\";\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { useSelector } from \"react-redux\";\nimport UploadChequeModal from \"../../components/UploadChequeModal/UploadChequeModal\";\nimport ChequeList from \"../../components/ChequeList/ChequeList\";\nconst CustomerDashboard = () => {\n  const [showDepositModal, setShowDepositModal] = useState(false);\n  const handleClose = () => setShowDepositModal(false);\n  const handleShow = () => setShowDepositModal(true);\n  const [reload, setReload] = useState(false);\n  const history = useHistory();\n  const auth = useSelector((state) => state.auth);\n  const user = useSelector((state) => state.user);\n  if (!auth) {\n    history.push(\"/auth\");\n  } else {\n    if (user.name === \"\") {\n      history.push(\"/adminDashboard\");\n    }\n  }\n  return (\n    auth &&\n    user.name !== \"\" && (\n      <div>\n        <UploadChequeModal\n          showDepositModal={showDepositModal}\n          handleClose={handleClose}\n          setReload={setReload}\n          reload={reload}\n        />\n        <div className={classes.Parent}>\n          <ChequeList reload={reload} />\n          <div className={classes.Options}>\n            <div className={classes.ButtonDeposit} onClick={handleShow}>\n              <i className=\"fas fa-upload\"></i>&nbsp;Deposit\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  );\n};\n\nexport default CustomerDashboard;\n"],"sourceRoot":""}